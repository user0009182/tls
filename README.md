## TLS secured TCP client & server examples

### Certificate & key generation

Run create_certs.bat to generate keys & certificates that will be needed. These are output to a certificates subfolder. The script uses the openssl tool to create the keys and certificates, so openssl.exe must be on the path. The openssl.exe that comes with Git can be used.

outputs of create_certs.bat:
- cacert.pem        CA certificate, this is used to sign/issue both the server and client certificates
- cakey.pem         CA private key
- servercert.pem    server certificate - client uses this to verify the server is who they say they are
- serverkey.pem     server private key
- clientcert.pem    client certificate - server uses this to verify the client is who they say they are
- clientkey.pem     client private key

### Starting a server

Run start_server.bat to start a TLS server listening on localhost:10101. The script uses openssl to create a test server which outputs a lot of useful debug information.

Alternatively python/server.py will do the same thing.

In both cases the configured server will only accept clients who provide a valid client certificate (the one generated by create_certs)

### Connecting a client

Run start_client.bat to connect a test TLS client to localhost:10101. The script uses openssl to connect with a test client which again outputs a lot of useful debug information.

Alternatively python/client.py will do the same thing.

In both cases the client is configured to expect a certain hostname in the server certificate.

### links
- create_certs.bat commands are based on [this](https://superhero.ninja/2015/07/22/create-a-simple-https-server-with-openssl-s_server/)
- openssl server & client commands based on the [manual] (https://www.openssl.org/docs/man3.1/man1/)
- python scripts, again based on examples from the [manual] (https://docs.python.org/3/library/ssl.html)

